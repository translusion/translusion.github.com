<!DOCTYPE html>
<html lang='en'><head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='Examples of Julia language constructs based of similarly named Python blog.'>
<meta name='theme-color' content='#ffcd00'>

<meta property='og:title' content='Beautiful Julia: Cool language constructs and Tricks for Beginners â€¢ Translusion'>
<meta property='og:description' content='Examples of Julia language constructs based of similarly named Python blog.'>
<meta property='og:url' content='http://translusion.github.com/posts/beautiful-julia/'>
<meta property='og:site_name' content='Translusion'>
<meta property='og:type' content='article'><meta property='article:section' content='posts'><meta property='article:published_time' content='2014-12-14T00:00:00Z'/><meta property='article:modified_time' content='2014-12-14T00:00:00Z'/><meta name='twitter:card' content='summary'>

<meta name="generator" content="Hugo 0.55.6" />

  <title>Beautiful Julia: Cool language constructs and Tricks for Beginners â€¢ Translusion</title>
  <link rel='canonical' href='http://translusion.github.com/posts/beautiful-julia/'>
  
  
  <link rel='icon' href='/favicon.ico'>
<link rel='stylesheet' href='/assets/css/main.6a060eb7.css'><link rel='stylesheet' href='/css/custom.css'><style>
:root{--color-accent:#ffcd00;}
</style>

  

</head>
<body class='page type-posts has-sidebar'>

  <div class='site'><div id='sidebar' class='sidebar'>
  <a class='screen-reader-text' href='#main-menu'>Skip to Main Menu</a>

  <div class='container'><section class='widget widget-about sep-after'>
  <header>
    
    <div class='logo'>
      <a href='/'>
        <img src='/images/logo.png'>
      </a>
    </div>
    
    <h2 class='title site-title '>
      <a href='/'>
      Translusion
      </a>
    </h2>
    <div class='desc'>
    Erik Engheim&#39;s Projects and Articles
    </div>
  </header>

</section>
</div>

  <div class='sidebar-overlay'></div>
</div><div class='main'><nav id='main-menu' class='menu main-menu' aria-label='Main Menu'>
  <div class='container'>
    <a class='screen-reader-text' href='#content'>Skip to Content</a>

<button id='sidebar-toggler' class='sidebar-toggler' aria-controls='sidebar'>
  <span class='screen-reader-text'>Toggle Sidebar</span>
  <span class='open'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="3" y1="12" x2="21" y2="12" />
  <line x1="3" y1="6" x2="21" y2="6" />
  <line x1="3" y1="18" x2="21" y2="18" />
  
</svg>
</span>
  <span class='close'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="18" y1="6" x2="6" y2="18" />
  <line x1="6" y1="6" x2="18" y2="18" />
  
</svg>
</span>
</button>
    <ul><li class='item'>
        <a href='/'></a>
      </li><li class='item'>
        <a href='/'>Home</a>
      </li><li class='item'>
        <a href='/posts/'>Blog</a>
      </li><li class='item'>
        <a href='/articles/'>Articles</a>
      </li><li class='item'>
        <a href='/maker/'>Maker</a>
      </li><li class='item'>
        <a href='/apps/'>Apps</a>
      </li><li class='item'>
        <a href='/projects/'>Projects</a>
      </li><li class='item'>
        <a href='https://github.com/ordovician'>Repo</a>
      </li></ul>
  </div>
</nav><div class='header-widgets'>
        <div class='container'>
    
    <style>.widget-breadcrumbs li:after{content:'\2f '}</style>
  <section class='widget widget-breadcrumbs sep-after'>
    <nav id='breadcrumbs'>
      <ol><li><a href='/'></a></li><li><a href='/posts/'>Posts</a></li><li><span>Beautiful Julia: Cool language constructs and Tricks for Beginners</span></li></ol>
    </nav>
  </section></div>
      </div>

      <header id='header' class='header site-header'>
        <div class='container sep-after'>
          <div class='header-info'><p class='site-title title'>Translusion</p><p class='desc site-desc'>Erik Engheim&#39;s Projects and Articles</p>
          </div>
        </div>
      </header>

      <main id='content'>


<article lang='en' class='entry'>
  <header class='header entry-header'>
  <div class='container sep-after'>
    <div class='header-info'>
      <h1 class='title'>Beautiful Julia: Cool language constructs and Tricks for Beginners</h1>
      
<p class='desc'>Examples of Julia language constructs based of similarly named Python blog.</p>


    </div>
    <div class='entry-meta'>
  <span class='posted-on'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>
<span class='screen-reader-text'>Posted on </span>
  <time class='entry-date' datetime='2014-12-14T00:00:00Z'>2014, Dec 14</time>
</span>

  
  
<span class='reading-time'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <circle cx="12" cy="12" r="10"/>
  <polyline points="12 6 12 12 15 15"/>
  
</svg>
5 mins read
</span>


</div>


  </div>
</header>

  
  

  <div class='container entry-content'>
  

<p>I just read <a href="http://www.hackerearth.com/notes/praveen97uma/beautiful-python-some-cool-language-constructs-and-tricks-for-beginners/" target="_blank">this blog</a> about cool language constructs in Python. Before clicking it I thought to myself: are there cool things only Python can do or could I easily replicate this in my favorite script language <a href="http://julialang.org" target="_blank">Julia</a>?</p>

<p>So without further ado, her are some examples.</p>

<h3 id="reverse-an-iterable">Reverse an iterable</h3>

<p>There are two ways of doing this</p>

<pre><code> julia&gt; a = [1, 2, 4]
 3-element Array{Int64,1}:
  1
  2
  4
</code></pre>

<p>The most obvious way is the <code>reverse</code> function</p>

<pre><code> julia&gt; reverse(a)
 3-element Array{Int64,1}:
  4
  2
  1
</code></pre>

<p>But we can also do something similar to the Python example, exept Julia requires you to be a bit more explicit about the start and end of the slice</p>

<pre><code> julia&gt; a[endðŸ‘Ž1]
 3-element Array{Int64,1}:
  4
  2
  1
</code></pre>

<p>This of course works for any types:</p>

<pre><code>julia&gt; reverse(b)
(4,3,2)

julia&gt; b[endðŸ‘Ž1]
(4,3,2)

julia&gt; c = &quot;This is a string&quot;
&quot;This is a string&quot;

julia&gt; reverse(c)
&quot;gnirts a si sihT&quot;
</code></pre>

<p>Julia follows the Ruby convention of suffixing with <code>!</code> if the function is mutating, so we can be confident these functions created copies.</p>

<h3 id="swapping-the-values-of-two-variables">Swapping the values of two variables</h3>

<pre><code>julia&gt; a, b = 1, 2
(1,2)

julia&gt; a, b = b, a
(2,1)

julia&gt; a
2

julia&gt; b
1
</code></pre>

<p>In the python example, the author Praveen Kumar disassembled the Python code to demonstrate how it worked by showing the bytecode. That will be quite different for <a href="http://julialang.org" target="_blank">Julia</a> as Julia JITs different implementations based on the types of arguments. That is why Julia is so fast. E.g. when we define a function that swaps in Julia we get a generic function which will be specialized when called by the Just in Time compiler:</p>

<pre><code>julia&gt; foo(a, b) = a, b = b, a
foo (generic function with 1 method)
</code></pre>

<p>So when dumping the assembly with <code>code_native</code> we have to specify what the types of arguments  will be as second argument:</p>

<pre><code>julia&gt; code_native(foo, (Int, Int))
    .section    __TEXT,__text,regular,pure_instructions
Filename: none
Source line: 1
    push    RBP
    mov RBP, RSP
Source line: 1
    movq    XMM1, RDI
    movq    XMM0, RSI
    punpcklqdq  XMM0, XMM1      ## xmm0 = xmm0[0],xmm1[0]
    pop RBP
    ret
</code></pre>

<p>If we want the bytecode like Python we get something that I consider less readable as it is LLVM based which contains a lot of type information to be able to generate efficient machien code output:</p>

<pre><code>julia&gt; code_llvm(foo, (Int, Int))

define &lt;2 x i64&gt; @&quot;julia_foo;20220&quot;(i64, i64) {
top:
  %2 = insertelement &lt;2 x i64&gt; undef, i64 %1, i32 0, !dbg !1422, !julia_type !1423
  %3 = insertelement &lt;2 x i64&gt; %2, i64 %0, i32 1, !dbg !1422, !julia_type !1423
  ret &lt;2 x i64&gt; %3, !dbg !1422
}
</code></pre>

<p>This isn&rsquo;t obviously readable so we need to consult the <a href="http://llvm.org/releases/2.6/docs/LangRef.html" target="_blank">LLVM reference</a> manual. <a href="http://llvm.org/releases/2.6/docs/LangRef.html#i_insertelement" target="_blank">insertelement</a> is instruction which insert an element into a vector at given index.</p>

<p>First part <code>&lt;2 x i64&gt;</code> is a type annotation saying we are operating on a 2 element 64 bit integer vector.</p>

<p>First argument is the vector register to operate on. In the first case that is <code>undef</code> while in the next line it is <code>%2</code>, which is where the result of the first line was put.</p>

<p>Second argument <code>i64 %1</code> says we are inserting a 64 bit integer element. Where is given in third argument: <code>i32 0</code>. Insert at index 0 (given as a 32 bit integer).</p>

<p>I&rsquo;ll leave it as a readers excercise to figure out exactly how this performs a swap as going into the nitty bitty details of this was not the intention of this blog post.</p>

<h3 id="enumerate">Enumerate</h3>

<p>Interestingly the <a href="http://julialang.org" target="_blank">Julia</a> approach for iterating over both index and value is almost identical to that of Python:</p>

<pre><code>julia&gt; for (index, value) in enumerate([&quot;foo&quot;, &quot;bar&quot;, &quot;zoo&quot;])
         println(index, &quot; &quot; , value)
       end
1 foo
2 bar
3 zoo
</code></pre>

<h3 id="splitting-a-string-into-a-list-of-words-and-joining-them-back">Splitting a string into a list of words and joining them back</h3>

<p>Splitting and joining is similar to Python except Julia isn&rsquo;t really object oriented so function name comes first as Julia uses multiple dispatch to decide which implementation to call.</p>

<pre><code>julia&gt; b = split(&quot;This is a string&quot;)
4-element Array{SubString{ASCIIString},1}:
 &quot;This&quot;  
 &quot;is&quot;    
 &quot;a&quot;     
 &quot;string&quot;

julia&gt; join(b, &quot; &quot;)
&quot;This is a string&quot;

julia&gt; join(b, &quot;, &quot;)
&quot;This, is, a, string&quot;
</code></pre>

<p>Nesting functions call is sometimes hard to read, so Julia offers the <code>|&gt;</code> operator to write the code in similar sequence as with object oriented languages .e.g:</p>

<pre><code>julia&gt; &quot;This is a string&quot; |&gt; split |&gt; join
&quot;Thisisastring&quot;
</code></pre>

<h3 id="list-comprehensions">List Comprehensions</h3>

<p>The traditional imperative way transforming on list to a new one is:</p>

<pre><code>julia&gt; M = String[]
0-element Array{String,1}

julia&gt; for word in L
           push!(M, word[1:3])
       end

julia&gt; M
4-element Array{String,1}:
 &quot;Jul&quot;
 &quot;mak&quot;
 &quot;peo&quot;
 &quot;lov&quot;
</code></pre>

<p>Quite similar to the Python example except Julia lists havea type so you have to specify that it is a String. You can create a python like array but then you need to specify that it takes any element:</p>

<pre><code>julia&gt; M = Any[]
0-element Array{Any,1}
</code></pre>

<p>With list comperhensions you can do this more elegantly with:</p>

<pre><code>julia&gt; M = [word[1:3] for word in L]
4-element Array{Any,1}:
 &quot;Jul&quot;
 &quot;mak&quot;
 &quot;peo&quot;
 &quot;lov&quot;
</code></pre>

<p>However for <a href="http://julialang.org" target="_blank">Julia</a> it would be more idiomatic to express what you are doing. E.g. in this case we are mapping from one array to another which we can express like this:</p>

<pre><code>julia&gt; M = map(word -&gt;  word[1:3], L)
4-element Array{ASCIIString,1}:
 &quot;Jul&quot;
 &quot;mak&quot;
 &quot;peo&quot;
 &quot;lov&quot;
</code></pre>

<p>If we want to filter a list by producing a new list containg only the elements with length greater than 5 we would do it like this:</p>

<pre><code>for word in L
  if length(word) &gt; 5
    push!(M, word)
  end
end
</code></pre>

<p>With Python we could solve this with a list comperhension however with Julia you have to explicity state that you are filtering:</p>

<pre><code>M = filter(word -&gt; length(word) &gt; 5, L)
</code></pre>

<p>The reason for this is that Julia has bultin support for multidimensional arrays, given that it was designed for scientific computing where this is important. There is no natural way to filter a multi dimensional array, as e.g. every row in a matrix needs to have the same number of columns.</p>

</div>

  
<footer class='entry-footer'>
  <div class='container sep-before'><div class='categories'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M22,19a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V5A2,2,0,0,1,4,3H9l2,3h9a2,2,0,0,1,2,2Z"/>
  
</svg>
<span class='screen-reader-text'>Categories: </span><a class='category' href='/categories/julia/'>Julia</a>, <a class='category' href='/categories/python/'>Python</a>, <a class='category' href='/categories/programming/'>Programming</a></div>

  </div>
</footer>


</article>

<nav class='entry-nav'>
  <div class='container'><div class='prev-entry sep-before'>
      <a href='/posts/torture/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader-text'>Previous post: </span>Why I don&#39;t believe in Torture</a>
    </div><div class='next-entry sep-before'>
      <a href='/posts/julia-tricks/'>
        <span class='screen-reader-text'>Next post: </span>Tricks in Julia<span aria-hidden='true'>Next <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>
  
</svg>
</span>
      </a>
    </div></div>
</nav>




      </main>

      <footer id='footer' class='footer'>
        <div class='container sep-before'><section class='widget widget-social_menu sep-after'><nav aria-label='Social Menu'>
    <ul><li>
        <a href='https://github.com/ordovician' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Github account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
  
</svg>
</a>
      </li><li>
        <a href='https://twitter.com/erikengheim' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Twitter account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
  
</svg>
</a>
      </li><li>
        <a href='mailto:erik.engheim@mac.com' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Contact via Email</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
  <polyline points="22,6 12,13 2,6"/>
  
</svg>
</a>
      </li><li>
        <a href='https://linkedin.com/in/erik-engheim-b8831917' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Linkedin account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
  <rect x="2" y="9" width="4" height="12"/>
  <circle cx="4" cy="4" r="2"/>
  
</svg>
</a>
      </li><li>
        <a href='https://www.youtube.com/channel/UC66PjfTxpg19YCGPUOLzyOg' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Youtube account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z" />
  <polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02" />
  
</svg>
</a>
      </li></ul>
  </nav>
</section><div class='copyright'>
  <p>Â© Erik Engheim 2016. All rights reserved.</p>
</div>

        </div>
      </footer>

    </div>
  </div><script>window.__assets_js_src="/assets/js/"</script>

<script src='/assets/js/main.67d669ac.js'></script><script src='/js/custom.js'></script>

</body>

</html>

