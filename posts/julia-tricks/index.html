<!DOCTYPE html>
<html lang='en'><head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='Usefull tricks in Julia for dealing with numbers, strings, dates and more.'>
<meta name='theme-color' content='#ffcd00'>

<meta property='og:title' content='Tricks in Julia • Translusion'>
<meta property='og:description' content='Usefull tricks in Julia for dealing with numbers, strings, dates and more.'>
<meta property='og:url' content='http://translusion.github.com/posts/julia-tricks/'>
<meta property='og:site_name' content='Translusion'>
<meta property='og:type' content='article'><meta property='article:section' content='posts'><meta property='article:published_time' content='2019-06-25T00:00:00Z'/><meta property='article:modified_time' content='2019-06-25T00:00:00Z'/><meta name='twitter:card' content='summary'>

<meta name="generator" content="Hugo 0.55.6" />

  <title>Tricks in Julia • Translusion</title>
  <link rel='canonical' href='http://translusion.github.com/posts/julia-tricks/'>
  
  
  <link rel='icon' href='/favicon.ico'>
<link rel='stylesheet' href='/assets/css/main.6a060eb7.css'><link rel='stylesheet' href='/css/custom.css'><style>
:root{--color-accent:#ffcd00;}
</style>

  

</head>
<body class='page type-posts has-sidebar'>

  <div class='site'><div id='sidebar' class='sidebar'>
  <a class='screen-reader-text' href='#main-menu'>Skip to Main Menu</a>

  <div class='container'><section class='widget widget-about sep-after'>
  <header>
    
    <div class='logo'>
      <a href='/'>
        <img src='/images/logo.png'>
      </a>
    </div>
    
    <h2 class='title site-title '>
      <a href='/'>
      Translusion
      </a>
    </h2>
    <div class='desc'>
    Erik Engheim&#39;s Projects and Articles
    </div>
  </header>

</section>
</div>

  <div class='sidebar-overlay'></div>
</div><div class='main'><nav id='main-menu' class='menu main-menu' aria-label='Main Menu'>
  <div class='container'>
    <a class='screen-reader-text' href='#content'>Skip to Content</a>

<button id='sidebar-toggler' class='sidebar-toggler' aria-controls='sidebar'>
  <span class='screen-reader-text'>Toggle Sidebar</span>
  <span class='open'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="3" y1="12" x2="21" y2="12" />
  <line x1="3" y1="6" x2="21" y2="6" />
  <line x1="3" y1="18" x2="21" y2="18" />
  
</svg>
</span>
  <span class='close'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="18" y1="6" x2="6" y2="18" />
  <line x1="6" y1="6" x2="18" y2="18" />
  
</svg>
</span>
</button>
    <ul><li class='item'>
        <a href='/'></a>
      </li><li class='item'>
        <a href='/'>Home</a>
      </li><li class='item'>
        <a href='/posts/'>Blog</a>
      </li><li class='item'>
        <a href='/articles/'>Articles</a>
      </li><li class='item'>
        <a href='/maker/'>Maker</a>
      </li><li class='item'>
        <a href='/apps/'>Apps</a>
      </li><li class='item'>
        <a href='/projects/'>Projects</a>
      </li><li class='item'>
        <a href='https://github.com/ordovician'>Repo</a>
      </li><li class='item'>
        <a href='https://nextjournal.com/erik-engheim'>Papers</a>
      </li></ul>
  </div>
</nav><div class='header-widgets'>
        <div class='container'>
    
    <style>.widget-breadcrumbs li:after{content:'\2f '}</style>
  <section class='widget widget-breadcrumbs sep-after'>
    <nav id='breadcrumbs'>
      <ol><li><a href='/'></a></li><li><a href='/posts/'>Posts</a></li><li><span>Tricks in Julia</span></li></ol>
    </nav>
  </section></div>
      </div>

      <header id='header' class='header site-header'>
        <div class='container sep-after'>
          <div class='header-info'><p class='site-title title'>Translusion</p><p class='desc site-desc'>Erik Engheim&#39;s Projects and Articles</p>
          </div>
        </div>
      </header>

      <main id='content'>


<article lang='en' class='entry'>
  <header class='header entry-header'>
  <div class='container sep-after'>
    <div class='header-info'>
      <h1 class='title'>Tricks in Julia</h1>
      
<p class='desc'>Usefull tricks in Julia for dealing with numbers, strings, dates and more.</p>


    </div>
    <div class='entry-meta'>
  <span class='posted-on'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>
<span class='screen-reader-text'>Posted on </span>
  <time class='entry-date' datetime='2019-06-25T00:00:00Z'>2019, Jun 25</time>
</span>

  
  
<span class='reading-time'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <circle cx="12" cy="12" r="10"/>
  <polyline points="12 6 12 12 15 15"/>
  
</svg>
4 mins read
</span>


</div>


  </div>
</header>

  
  

  <div class='container entry-content'>
  

<p>After doing various small Julia projects I&rsquo;ve had to learn a number of tricks or solutions to small problems, that I think would be usefull to collect:</p>

<h3 id="parsing-strings">Parsing Strings</h3>

<p>Extract 3 numbers from a string into 3 variables:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">a, b, c <span style="color:#f92672">=</span> parse<span style="color:#f92672">.</span>(<span style="color:#66d9ef">Int</span>, split(<span style="color:#e6db74">&#34;11 12 13&#34;</span>))</code></pre></div>
<p>This requires some explanation. <code>parse(Int, s)</code> will parse a single string <code>s</code> as a number. However when you call <code>parse.(Int, [&quot;11&quot;, &quot;12&quot;, &quot;13&quot;])</code>, the dot causes <code>parse</code> to be called for every element of the array.</p>

<h3 id="initialization">Initialization</h3>

<p>There are some gotchas with Julia initialization if you come from C/C++ background although this should not be so odd to Python or Ruby developers.</p>

<pre><code>julia&gt; mutable struct Point
         x::Int
         y::Int
       end

julia&gt; points = fill(Point(0, 0), 4)
    4-element Array{Point,1}:
     Point(0,0)
     Point(0,0)
     Point(0,0)
     Point(0,0)
</code></pre>

<p>That looks all fine, until you make a change and get this:</p>

<pre><code>julia&gt; points[2].x = 20
julia&gt; points
4-element Array{Point,1}:
 Point(20,0)
 Point(20,0)
 Point(20,0)
 Point(20,0)
</code></pre>

<p>That was probably not as expected. The reason for this is that references to the created <code>Point</code> object in fill is copied not the values themselves. So what we actually got to do is:</p>

<pre><code>points = [Point(0, 0) for _ in 1:4]
</code></pre>

<h2 id="integers">Integers</h2>

<p>There are a lot of issues with just dealing with something simple as integers. First of all how do yo get the min and max values of the integers you are using:</p>

<pre><code>julia&gt; typemax(Int8)
127

julia&gt; typemax(UInt8)
0xff # which is 255 decimal

julia&gt; typemin(Int8)
-128
</code></pre>

<p>One also has to remember that Julia integers do not get promoted to larger values when overflowing. So e.g. taking the factorial of a really big number like 100 requires using <code>BigInt</code>:</p>

<pre><code> julia&gt; factorial(BigInt(25))
 15511210043330985984000000
</code></pre>

<h3 id="division">Division</h3>

<p>One thing I got confused by being more used to C/C++ is how division works in Julia. There are several ways of doing it depending on what you want. Using integers in division does not produce integers automatically. The default is to give floating point answer:</p>

<pre><code>julia&gt; 10 / 6
1.6666666666666667
</code></pre>

<p>Which has of course the minor inaccuracies of floating point arithmetic. If you want accurate results you can compute fractions with the <code>//</code> division operator:</p>

<pre><code>julia&gt; a = 10 // 6
5//3

julia&gt; numerator(a)
5

julia&gt; denominator(a)
3
</code></pre>

<p>If you want to work with C/C++ style division then we use the <code>div</code>, <code>rem</code> and <code>mod</code> functions:</p>

<pre><code>julia&gt; div(10, 6)
1

&gt; rem(10, 6)
4
</code></pre>

<p>C/C++ style remainder</p>

<pre><code>julia&gt; 10 % 6
4
</code></pre>

<p>Modulus is not quite the same as remaineder. E.g.</p>

<pre><code>julia&gt; rem(-21, 4)
-1

julia&gt; mod(-21, 4)
3
</code></pre>

<p>With modulus we can imagine doing calculations on a clock.</p>

<h3 id="reading-files">Reading files</h3>

<p>Julia has some nice ways you can compose functions to read files.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">lines <span style="color:#f92672">=</span> open(readlines, <span style="color:#e6db74">&#34;myfile.txt&#34;</span>)</code></pre></div>
<p>This corresponds to writing:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#34;myfile.txt&#34;</span>)
lines <span style="color:#f92672">=</span> readlines(f)
close(f)</code></pre></div>
<p>With the julia <code>do end</code> syntax sugar you can use this to conveniently read a file and not forget to close it:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">open(<span style="color:#e6db74">&#34;myfile.txt&#34;</span>) <span style="color:#66d9ef">do</span> f
   println(readline(f))     <span style="color:#75715e"># print out first line in file</span>
<span style="color:#66d9ef">end</span>                         <span style="color:#75715e"># file stream automatically closes here</span></code></pre></div>
<h3 id="working-with-dates">Working with dates</h3>

<p>This is just to show how to deal with a common case:</p>

<pre><code>julia&gt; using Dates

julia&gt; (date, time) = split(&quot;5/8/2014 0:16:03&quot;)
2-element Array{SubString{ASCIIString},1}:
 &quot;5/8/2014&quot;
 &quot;0:16:03&quot; 
</code></pre>

<p>Then as shown before we can unpack an array into separate variables like this:</p>

<pre><code>julia&gt; y, m, d = reverse(parse.(Int, split(date, '/')))
3-element Array{Int64,1}:
 2014
    8
    5

julia&gt; date = Date(y, m, d)
2014-08-05
</code></pre>

<p>You could also do this in one go by unpacking an array into function arguments using <code>...</code>:</p>

<pre><code>julia&gt; Date(reverse(parse.(Int, split(date, '/')))...)
2014-08-05
</code></pre>

<h3 id="enumeration">Enumeration</h3>

<p>Regular enumeration in Julia is straightforward but it might not be obvious how you enumerate over both values and keys or indicies in an array or dictionary:</p>

<pre><code>&gt; for (index, value) in enumerate([&quot;one&quot;, &quot;two&quot;, &quot;three&quot;])
           println(index, &quot;: &quot;, value)
       end
1: one
2: two
3: three
</code></pre>

<h3 id="accessing-fields-of-a-type">Accessing fields of a type</h3>

<p>The syntax for accessing fields known at compile time is similar in Julia as in most other languages with Algol syntax:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia"><span style="color:#66d9ef">struct</span> FooBar
	foo<span style="color:#f92672">::</span><span style="color:#66d9ef">Int64</span>
	bar<span style="color:#f92672">::</span>String
<span style="color:#66d9ef">end</span></code></pre></div>
<pre><code>julia&gt; a = FooBar(42, &quot;The answer to everything&quot;)

julia&gt; a.bar
&quot;The answer to everything&quot;

julia&gt; a.foo
42
</code></pre>

<p>However accessing fields not known at compile time is different. Imagine the user inputs the name of a field to access or the names of fields are read of a file. Unlike Ruby and Python, Julia&rsquo;s objects are not implemented as hashtables. So accessing fields given a name is a bit different:</p>

<pre><code>julia&gt; getfield(a, :bar)
&quot;The answer to everything&quot;
</code></pre>

<p>If you only got the name of a field as a string you can do:</p>

<pre><code>julia&gt; getfield(a, Symbol(&quot;bar&quot;))
&quot;The answer to everything&quot;
</code></pre>

<p>To find out what fields actually exist you can use <code>names</code>:</p>

<pre><code>julia&gt; fieldnames(FooBar)
(:foo, :bar)
</code></pre>

<p>Alternatively if you got an instance you can see both the name of the fields and their values with <code>dump</code>:</p>

<pre><code>julia&gt; dump(a)
FooBar
  foo: Int64 42
  bar: String &quot;The answer to everything&quot;
</code></pre>

<p>Most of these code snippets or approaches I picked up from doing small things like implement an algorithm in <a href="https://projecteuler.net" target="_blank">project Euler</a>. I hope to write some bigger piece of code and see how Julia stacks up and how well suited Julia is for more software engineering type of challenges.</p>

</div>

  
<footer class='entry-footer'>
  <div class='container sep-before'><div class='categories'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M22,19a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V5A2,2,0,0,1,4,3H9l2,3h9a2,2,0,0,1,2,2Z"/>
  
</svg>
<span class='screen-reader-text'>Categories: </span><a class='category' href='/categories/julia/'>Julia</a>, <a class='category' href='/categories/programming/'>Programming</a></div>

  </div>
</footer>


</article>

<nav class='entry-nav'>
  <div class='container'><div class='prev-entry sep-before'>
      <a href='/posts/munchingdata-julia/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader-text'>Previous post: </span>Munching Data with Julia</a>
    </div><div class='next-entry sep-before'>
      <a href='/posts/beautiful-julia/'>
        <span class='screen-reader-text'>Next post: </span>Beautiful Julia: Cool Language Constructs and Tricks for Beginners<span aria-hidden='true'>Next <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>
  
</svg>
</span>
      </a>
    </div></div>
</nav>


<section id='comments' class='comments'>
  <div class='container sep-before'>
    <div class='comments-area'><div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "translusion" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
  </div>
</section>

      </main>

      <footer id='footer' class='footer'>
        <div class='container sep-before'><section class='widget widget-social_menu sep-after'><nav aria-label='Social Menu'>
    <ul><li>
        <a href='https://github.com/ordovician' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Github account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
  
</svg>
</a>
      </li><li>
        <a href='https://twitter.com/erikengheim' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Twitter account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
  
</svg>
</a>
      </li><li>
        <a href='mailto:erik.engheim@mac.com' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Contact via Email</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
  <polyline points="22,6 12,13 2,6"/>
  
</svg>
</a>
      </li><li>
        <a href='https://linkedin.com/in/erik-engheim-b8831917' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Linkedin account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
  <rect x="2" y="9" width="4" height="12"/>
  <circle cx="4" cy="4" r="2"/>
  
</svg>
</a>
      </li><li>
        <a href='https://www.youtube.com/channel/UC66PjfTxpg19YCGPUOLzyOg' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Youtube account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z" />
  <polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02" />
  
</svg>
</a>
      </li></ul>
  </nav>
</section><div class='copyright'>
  <p>© Erik Engheim 2016. All rights reserved.</p>
</div>

        </div>
      </footer>

    </div>
  </div><script>window.__assets_js_src="/assets/js/"</script>

<script src='/assets/js/main.67d669ac.js'></script><script src='/js/custom.js'></script>

</body>

</html>

